<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Functors Gone Wild: A Playful Guide to the Yoneda Lemma | Emon Hossain</title>
<meta name="keywords" content="Yoneda-Lemma, Category-Theory">
<meta name="description" content="Explore the Yoneda Lemma with a playful twist!">
<meta name="author" content="Emon Hossain">
<link rel="canonical" href="https://pascalmichaillat.org/hugo-website/blog/yoneda_lemma/">
<link crossorigin="anonymous" href="/hugo-website/assets/css/stylesheet.ba1d931b8d3f8d2a69e875b94ec1b6a0ac7dff69e1208957e39c19b9b7fc8d45.css" integrity="sha256-uh2TG40/jSpp6HW5TsG2oKx9/2nhIIlX45wZubf8jUU=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://pascalmichaillat.org/hugo-website/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://pascalmichaillat.org/hugo-website/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://pascalmichaillat.org/hugo-website/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://pascalmichaillat.org/hugo-website/apple-touch-icon.png">

<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://pascalmichaillat.org/hugo-website/blog/yoneda_lemma/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Functors Gone Wild: A Playful Guide to the Yoneda Lemma" />
<meta property="og:description" content="Explore the Yoneda Lemma with a playful twist!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pascalmichaillat.org/hugo-website/blog/yoneda_lemma/" />
<meta property="og:image" content="https://pascalmichaillat.org/hugo-website/Yoneda_Lemma.jpg" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2024-09-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-09-15T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://pascalmichaillat.org/hugo-website/Yoneda_Lemma.jpg" />
<meta name="twitter:title" content="Functors Gone Wild: A Playful Guide to the Yoneda Lemma"/>
<meta name="twitter:description" content="Explore the Yoneda Lemma with a playful twist!"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Data",
      "item": "https://pascalmichaillat.org/hugo-website/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Functors Gone Wild: A Playful Guide to the Yoneda Lemma",
      "item": "https://pascalmichaillat.org/hugo-website/blog/yoneda_lemma/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Functors Gone Wild: A Playful Guide to the Yoneda Lemma",
  "name": "Functors Gone Wild: A Playful Guide to the Yoneda Lemma",
  "description": "Explore the Yoneda Lemma with a playful twist!",
  "keywords": [
    "Yoneda-Lemma", "Category-Theory"
  ],
  "articleBody": "Ah, Yoneda‚Äôs Lemma! It‚Äôs like the Swiss army knife of category theory‚Äîversatile, a little hard to open at first, but once you figure it out, you‚Äôll never leave home without it. So, grab your favorite beverage, maybe even your favorite arrow (just don‚Äôt point it at me), and let‚Äôs dive into this categorical adventure.\nFirst, let‚Äôs set up the main players in our drama:\nIf $\\alpha$ is a natural transformation from the Hom-functor $\\mathcal{C}(A,-):\\mathcal{C}\\rightarrow\\operatorname{Set}$ to the Hom-functor $\\mathcal{C}(B,-):\\mathcal{C}\\rightarrow\\operatorname{Set}$, then for any $\\mathcal{C}$-arrow $j: X \\to Y$, the following diagram commutes like a finely-tuned jazz band:\n$$ \\begin{tikzcd} \\mathcal{C}(A, X) \\arrow[d, ‚Äú\\alpha_X‚Äù] \\arrow[r, ‚Äú\\mathcal{C}(A,j)‚Äù] \u0026 \\mathcal{C}(A,Y) \\arrow[d, ‚Äú\\alpha_Y‚Äù] \\\\ \\mathcal{C}(B,X) \\arrow[r, ‚Äú\\mathcal{C}(B,j)‚Äù] \u0026 \\mathcal{C}(B,Y) \\end{tikzcd} $$\nTranslation: no matter which path you take, everything lands where it‚Äôs supposed to. This is categorical Zen.\nNow, if you really want to see how things act in this setup, let‚Äôs introduce an arrow $f: B \\to A$. With $f$ in play, you get:\n$$ \\begin{tikzcd} B \\arrow[d, ‚Äúf‚Äù] \u0026 g: A \\to X \\arrow[rr, ‚Äúj \\circ -‚Äù] \\arrow[d, ‚Äú- \\circ f‚Äù] \u0026 \u0026 j \\circ g: A \\to Y \\arrow[d, ‚Äú- \\circ f‚Äù] \\ A \u0026 g \\circ f: B \\to X \\arrow[rr, ‚Äúj \\circ -‚Äù] \u0026 \u0026 j \\circ g \\circ f: B \\to Y \\end{tikzcd} $$\nIn other words, for a small category $\\mathcal{C}$, we get a natural transformation $\\mathcal{C}(f,-): \\mathcal{C}(A,-) \\Rightarrow \\mathcal{C}(B,-)$, defined component-wise as follows: $\\mathcal{C}(f,-)_X$ takes an arrow $g: A \\to X$ and gives you $g \\circ f: B \\to X$. Simple enough, right?\nBut wait‚Äîcan we go backward? If we start with a natural transformation $\\alpha: \\mathcal{C}(A,-) \\Rightarrow \\mathcal{C}(B,-)$, can we reverse engineer it to find an arrow $f: B \\to A$? Spoiler alert: Yes, we can! The magic arrow is $f = \\alpha_A(1_A)$.\nVoil√†! Let‚Äôs redraw the commutative diagrams, but now with the mighty $f = 1_A$:\n$$ \\begin{tikzcd} B \\arrow[d, ‚Äúf‚Äù] \u0026 1_A: A \\to A \\arrow[rr, ‚Äúj \\circ -‚Äù] \\arrow[d, ‚Äú\\alpha_A(1_A) = - \\circ f‚Äù] \u0026 \u0026 j \\circ 1_A: A \\to Y \\arrow[d, ‚Äú\\alpha_Y(j) = - \\circ f‚Äù] \\ A \u0026 1_A \\circ f: B \\to A \\arrow[rr, ‚Äúj \\circ -‚Äù] \u0026 \u0026 j \\circ f: B \\to Y \\end{tikzcd} $$\nSo, now we see:\n$$(\\alpha_A(1_A), -)_Y(j) = \\alpha_Y(j)$$\nfor all objects $X$ and all arrows $j: A \\to X$. All the components of $\\alpha$ and $\\mathcal{C}(\\alpha_A(1_A),-)$ match up perfectly. Great! We‚Äôve proved the existence of such an $f$.\nBut what is $\\mathcal{C}(\\alpha_A(1_A),-)$? Let‚Äôs recap:\nThe Restricted Yoneda Lemma: Theorem: For any locally small category $\\mathcal{C}$ and objects $A$ and $B$, there is a correspondence between arrows $f: B \\to A$ and natural transformations $\\mathcal{C}(f,-): \\mathcal{C}(A,-) \\Rightarrow \\mathcal{C}(B,-)$.\nYou just saw the restricted version of the Yoneda Lemma. But we‚Äôre not done yet! Oh no, dear reader, we‚Äôve barely scratched the surface. It‚Äôs time to bring out the big guns: isomorphisms!\nTheorem: For any locally small category $\\mathcal{C}$ and objects $A, B$:\n$$ \\operatorname{Nat}(\\mathcal{C}(A,-),\\mathcal{C}(B,-)) \\cong \\mathcal{C}(B,A) $$\nSo, we have a function $\\Psi_{AB}$ that takes an arrow $f: B \\to A$ and gives us a natural transformation $\\mathcal{C}(f,-)$. And in the reverse direction, we have a function $\\tilde{\\Psi}_{AB}$ that takes a natural transformation $\\alpha$ and gives us an arrow $f = \\alpha_A(1_A)$.\nBut wait, there‚Äôs more! This setup is so neat that the two functions, when composed, give us back what we started with. That‚Äôs right‚Äî$(\\tilde{\\Psi}{AB} \\circ \\Psi{AB})f = f$ and $(\\Psi_{AB} \\circ \\tilde{\\Psi}_{AB})\\alpha = \\alpha$.\nYoneda Embedding: Theorem: For any locally small category $\\mathcal{C}$, there is a contravariant functor $\\Psi: \\mathcal{C} \\to \\operatorname{Set}^{\\mathcal{C}}$, which:\nSends objects $A$ to $\\mathcal{C}(A,-)$, Sends arrows $f: B \\to A$ to $\\mathcal{C}(f,-): \\mathcal{C}(A,-) \\Rightarrow \\mathcal{C}(B,-)$. What does this mean? Essentially, $\\mathcal{C}$ is chilling inside the functor category $\\operatorname{Set}^{\\mathcal{C}}$, like some sort of mathematical Inception‚Äîit‚Äôs a category, within a category, within a‚Ä¶well, you get the idea.\nAnd if you‚Äôre still with me (which I hope you are), let‚Äôs take it up one more notch.\nYoneda Lemma (Fully Generalized): For any functor $F: \\mathcal{C} \\to \\operatorname{Set}$ and any object $A \\in \\mathcal{C}$, there is an isomorphism: $\\operatorname{Nat}(\\mathcal{C}(A,-), F) \\cong FA$ both naturally in $A$ and naturally in $F.\nAnd there you have it! The Yoneda Lemma in all its glory. So next time someone asks, ‚ÄúWhat‚Äôs the big deal with this Yoneda guy?‚Äù you can calmly sip your coffee, adjust your glasses, and say, ‚ÄúLet me show you a commutative diagram‚Ä¶‚Äù\nTadahhh! ü•≥\n",
  "wordCount" : "733",
  "inLanguage": "en",
  "image":"https://pascalmichaillat.org/hugo-website/Yoneda_Lemma.jpg","datePublished": "2024-09-15T00:00:00Z",
  "dateModified": "2024-09-15T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Emon Hossain"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://pascalmichaillat.org/hugo-website/blog/yoneda_lemma/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Emon Hossain",
    "logo": {
      "@type": "ImageObject",
      "url": "https://pascalmichaillat.org/hugo-website/favicon.ico"
    }
  }
}
</script>



<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css"
  integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn"
  crossorigin="anonymous"
/>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js"
  integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js"
  integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/mhchem.min.js"
  crossorigin="anonymous"
></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      
      
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\begin{equation}", right: "\\end{equation}", display: true },
        {
          left: "\\begin{equation*}",
          right: "\\end{equation*}",
          display: true,
        },
        { left: "\\begin{align}", right: "\\end{align}", display: true },
        { left: "\\begin{align*}", right: "\\end{align*}", display: true },
        { left: "\\begin{alignat}", right: "\\end{alignat}", display: true },
        { left: "\\begin{gather}", right: "\\end{gather}", display: true },
        { left: "\\begin{pmatrix}", right: "\\end{pmatrix}", display: true },
        { left: "\\begin{CD}", right: "\\end{CD}", display: true },
      ],
      
      throwOnError: false,
    });
  });
</script>

 


</head>

<body class="" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://pascalmichaillat.org/hugo-website/" accesskey="h" title="Emon Hossain">
             
                <img src="https://pascalmichaillat.org/hugo-website/favicon.ico" alt="" aria-label="logo"
                    height="18"
                    width="18">Emon Hossain</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://pascalmichaillat.org/hugo-website/books/" title="Books">
                    <span>Books</span>
                </a>
            </li>
            <li>
                <a href="https://pascalmichaillat.org/hugo-website/papers/" title="Papers">
                    <span>Papers</span>
                </a>
            </li>
            <li>
                <a href="https://pascalmichaillat.org/hugo-website/teaching/" title="Teaching">
                    <span>Teaching</span>
                </a>
            </li>
            <li>
                <a href="https://pascalmichaillat.org/hugo-website/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Functors Gone Wild: A Playful Guide to the Yoneda Lemma
    </h1>
    <div class="post-meta"><span title='2024-09-15 00:00:00 +0000 UTC'>September 2024</span>&nbsp;&middot;&nbsp;Emon Hossain&nbsp;&middot;&nbsp;<a href="https://emonhossainraihan.github.io/" rel="noopener noreferrer" target="_blank">GitHub repository</a>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li></li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><p>Ah, Yoneda&rsquo;s Lemma! It&rsquo;s like the Swiss army knife of category theory‚Äîversatile, a little hard to open at first, but once you figure it out, you&rsquo;ll never leave home without it. So, grab your favorite beverage, maybe even your favorite arrow (just don&rsquo;t point it at me), and let&rsquo;s dive into this categorical adventure.</p>
<p>First, let‚Äôs set up the main players in our drama:</p>
<p>If $\alpha$ is a natural transformation from the Hom-functor $\mathcal{C}(A,-):\mathcal{C}\rightarrow\operatorname{Set}$ to the Hom-functor $\mathcal{C}(B,-):\mathcal{C}\rightarrow\operatorname{Set}$, then for any $\mathcal{C}$-arrow $j: X \to Y$, the following diagram commutes like a finely-tuned jazz band:</p>
<p>$$
\begin{tikzcd}
\mathcal{C}(A, X) \arrow[d, &ldquo;\alpha_X&rdquo;] \arrow[r, &ldquo;\mathcal{C}(A,j)&rdquo;] &amp; \mathcal{C}(A,Y) \arrow[d, &ldquo;\alpha_Y&rdquo;] \\
\mathcal{C}(B,X) \arrow[r, &ldquo;\mathcal{C}(B,j)&rdquo;] &amp; \mathcal{C}(B,Y)
\end{tikzcd}
$$</p>
<p><img loading="lazy" src="Yoneda_Lemma.jpg" alt=""  />
</p>
<p align="center"><img src="yoneda1.png" /></p>
<p>Translation: no matter which path you take, everything lands where it&rsquo;s supposed to. This is categorical Zen.</p>
<p>Now, if you really want to see how things act in this setup, let‚Äôs introduce an arrow $f: B \to A$. With $f$ in play, you get:</p>
<p>$$
\begin{tikzcd}
B \arrow[d, &ldquo;f&rdquo;] &amp; g: A \to X \arrow[rr, &ldquo;j \circ -&rdquo;] \arrow[d, &ldquo;- \circ f&rdquo;] &amp; &amp; j \circ g: A \to Y \arrow[d, &ldquo;- \circ f&rdquo;] \
A &amp; g \circ f: B \to X \arrow[rr, &ldquo;j \circ -&rdquo;] &amp; &amp; j \circ g \circ f: B \to Y
\end{tikzcd}
$$</p>
<p>In other words, for a small category $\mathcal{C}$, we get a natural transformation $\mathcal{C}(f,-): \mathcal{C}(A,-) \Rightarrow \mathcal{C}(B,-)$, defined component-wise as follows: $\mathcal{C}(f,-)_X$ takes an arrow $g: A \to X$ and gives you $g \circ f: B \to X$. Simple enough, right?</p>
<p>But wait‚Äîcan we go backward? If we start with a natural transformation $\alpha: \mathcal{C}(A,-) \Rightarrow \mathcal{C}(B,-)$, can we reverse engineer it to find an arrow $f: B \to A$? Spoiler alert: Yes, we can! The magic arrow is $f = \alpha_A(1_A)$.</p>
<p>Voil√†! Let‚Äôs redraw the commutative diagrams, but now with the mighty $f = 1_A$:</p>
<p>$$
\begin{tikzcd}
B \arrow[d, &ldquo;f&rdquo;] &amp; 1_A: A \to A \arrow[rr, &ldquo;j \circ -&rdquo;] \arrow[d, &ldquo;\alpha_A(1_A) = - \circ f&rdquo;] &amp; &amp; j \circ 1_A: A \to Y \arrow[d, &ldquo;\alpha_Y(j) = - \circ f&rdquo;] \
A &amp; 1_A \circ f: B \to A \arrow[rr, &ldquo;j \circ -&rdquo;] &amp; &amp; j \circ f: B \to Y
\end{tikzcd}
$$</p>
<p>So, now we see:<br>
$$(\alpha_A(1_A), -)_Y(j) = \alpha_Y(j)$$<br>
for all objects $X$ and all arrows $j: A \to X$. All the components of $\alpha$ and $\mathcal{C}(\alpha_A(1_A),-)$ match up perfectly. Great! We‚Äôve proved the existence of such an $f$.</p>
<p>But what is $\mathcal{C}(\alpha_A(1_A),-)$? Let‚Äôs recap:</p>
<h3 id="the-restricted-yoneda-lemma">The Restricted Yoneda Lemma:<a hidden class="anchor" aria-hidden="true" href="#the-restricted-yoneda-lemma">#</a></h3>
<blockquote>
<p><strong>Theorem</strong>: For any locally small category $\mathcal{C}$ and objects $A$ and $B$, there is a correspondence between arrows $f: B \to A$ and natural transformations $\mathcal{C}(f,-): \mathcal{C}(A,-) \Rightarrow \mathcal{C}(B,-)$.</p>
</blockquote>
<p>You just saw the restricted version of the Yoneda Lemma. But we‚Äôre not done yet! Oh no, dear reader, we‚Äôve barely scratched the surface. It‚Äôs time to bring out the big guns: <strong>isomorphisms</strong>!</p>
<blockquote>
<p><strong>Theorem</strong>: For any locally small category $\mathcal{C}$ and objects $A, B$:</p>
<p>$$
\operatorname{Nat}(\mathcal{C}(A,-),\mathcal{C}(B,-)) \cong \mathcal{C}(B,A)
$$</p>
</blockquote>
<p>So, we have a function $\Psi_{AB}$ that takes an arrow $f: B \to A$ and gives us a natural transformation $\mathcal{C}(f,-)$. And in the reverse direction, we have a function $\tilde{\Psi}_{AB}$ that takes a natural transformation $\alpha$ and gives us an arrow $f = \alpha_A(1_A)$.</p>
<p>But wait, there‚Äôs more! This setup is so neat that the two functions, when composed, give us back what we started with. That‚Äôs right‚Äî$(\tilde{\Psi}<em>{AB} \circ \Psi</em>{AB})f = f$ and $(\Psi_{AB} \circ \tilde{\Psi}_{AB})\alpha = \alpha$.</p>
<h3 id="yoneda-embedding">Yoneda Embedding:<a hidden class="anchor" aria-hidden="true" href="#yoneda-embedding">#</a></h3>
<blockquote>
<p><strong>Theorem</strong>: For any locally small category $\mathcal{C}$, there is a contravariant functor $\Psi: \mathcal{C} \to \operatorname{Set}^{\mathcal{C}}$, which:</p>
<ol>
<li>Sends objects $A$ to $\mathcal{C}(A,-)$,</li>
<li>Sends arrows $f: B \to A$ to $\mathcal{C}(f,-): \mathcal{C}(A,-) \Rightarrow \mathcal{C}(B,-)$.</li>
</ol>
</blockquote>
<p>What does this mean? Essentially, $\mathcal{C}$ is chilling inside the functor category $\operatorname{Set}^{\mathcal{C}}$, like some sort of mathematical Inception‚Äîit&rsquo;s a category, within a category, within a‚Ä¶well, you get the idea.</p>
<p>And if you‚Äôre still with me (which I hope you are), let‚Äôs take it up one more notch.</p>
<h3 id="yoneda-lemma-fully-generalized">Yoneda Lemma (Fully Generalized):<a hidden class="anchor" aria-hidden="true" href="#yoneda-lemma-fully-generalized">#</a></h3>
<p>For any functor $F: \mathcal{C} \to \operatorname{Set}$ and any object $A \in \mathcal{C}$, there is an isomorphism: $\operatorname{Nat}(\mathcal{C}(A,-), F) \cong FA$ <strong>both naturally in $A$ and naturally in $F</strong>.</p>
<p>And there you have it! The Yoneda Lemma in all its glory. So next time someone asks, ‚ÄúWhat‚Äôs the big deal with this Yoneda guy?‚Äù you can calmly sip your coffee, adjust your glasses, and say, ‚ÄúLet me show you a commutative diagram&hellip;‚Äù</p>
<p>Tadahhh! ü•≥</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://pascalmichaillat.org/hugo-website/tags/yoneda-lemma/">Yoneda-Lemma</a></li>
      <li><a href="https://pascalmichaillat.org/hugo-website/tags/category-theory/">Category-Theory</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer"> &copy; 2024 Emon Hossain
  
</footer>

<script>
  let menu = document.getElementById("menu");
  if (menu) {
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
      localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    };
  }

  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();
      var id = this.getAttribute("href").substr(1);
      if (!window.matchMedia("(prefers-reduced-motion: reduce)").matches) {
        document
          .querySelector(`[id='${decodeURIComponent(id)}']`)
          .scrollIntoView({
            behavior: "smooth",
          });
      } else {
        document
          .querySelector(`[id='${decodeURIComponent(id)}']`)
          .scrollIntoView();
      }
      if (id === "top") {
        history.replaceState(null, null, " ");
      } else {
        history.pushState(null, null, `#${id}`);
      }
    });
  });
</script>
<script>
  document.querySelectorAll("pre > code").forEach((codeblock) => {
    const container = codeblock.parentNode.parentNode;

    const copybutton = document.createElement("button");
    copybutton.classList.add("copy-code");
    copybutton.innerHTML = 'copy';

    function copyingDone() {
      copybutton.innerHTML = 'copied!';
      setTimeout(() => {
        copybutton.innerHTML = 'copy';
      }, 2000);
    }

    copybutton.addEventListener("click", (cb) => {
      if ("clipboard" in navigator) {
        navigator.clipboard.writeText(codeblock.textContent);
        copyingDone();
        return;
      }

      const range = document.createRange();
      range.selectNodeContents(codeblock);
      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);
      try {
        document.execCommand("copy");
        copyingDone();
      } catch (e) {}
      selection.removeRange(range);
    });

    if (container.classList.contains("highlight")) {
      container.appendChild(copybutton);
    } else if (container.parentNode.firstChild == container) {
      
    } else if (
      codeblock.parentNode.parentNode.parentNode.parentNode.parentNode
        .nodeName == "TABLE"
    ) {
      
      codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(
        copybutton
      );
    } else {
      
      codeblock.parentNode.appendChild(copybutton);
    }
  });
</script>
</body>
</html>
